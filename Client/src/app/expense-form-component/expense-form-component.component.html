<div class="expense-form">
    <div class="form-group">
      <label for="expense-description">Description</label>
      <input 
        type="text" 
        id="expense-description" 
        placeholder="What was this expense for?" 
        [(ngModel)]="description"
        required
      >
    </div>
    
    <div class="form-group">
      <label for="expense-amount">Amount</label>
      <div class="amount-input">
        <span class="currency-symbol">$</span>
        <input 
          type="number" 
          id="expense-amount" 
          placeholder="0.00" 
          [(ngModel)]="amount"
          (ngModelChange)="onAmountChange()"
          required
        >
      </div>
    </div>
    
    <div class="form-group">
      <label>Paid by</label>
      <div class="paid-by-options">
        <button 
          class="paid-by-option" 
          [class.active]="paidBy === 'you'"
          (click)="onPaidByChange('you')"
        >
          You
        </button>
        <button 
          class="paid-by-option" 
          [class.active]="paidBy === 'other'"
          (click)="onPaidByChange('other')"
        >
          Someone else
        </button>
      </div>
    </div>
    
    <div class="form-group">
      <label>Split options</label>
      <div class="split-options">
        <button 
          *ngFor="let option of splitOptions"
          class="split-option" 
          [class.active]="selectedSplitOption === option.id"
          (click)="onSplitOptionChange(option.id)"
        >
          {{ option.name }}
        </button>
      </div>
    </div>
    
    <div class="form-group">
      <label>Group or friends</label>
      <select class="group-select" [(ngModel)]="selectedGroup" (change)="onGroupChange($event)">
        <option value="">Select a group or friend</option>
        <optgroup label="Groups">
          <option *ngFor="let group of groups" [value]="'group-' + group.id">{{ group.name }}</option>
        </optgroup>
        <optgroup label="Friends">
          <option *ngFor="let friend of friends" [value]="'friend-' + friend.id">{{ friend.name }}</option>
        </optgroup>
      </select>
    </div>
    
    <!-- Participant splits based on selected split option -->
    <div class="form-group" *ngIf="selectedSplitOption !== 'equal' && participants.length > 0">
      <label>Split details</label>
      <div class="participants-list">
        <div class="participant-row" *ngFor="let participant of participants">
          <span class="participant-name">{{ participant.name }}</span>
          
          <!-- Unequal split (specific amounts) -->
          <div class="participant-amount" *ngIf="selectedSplitOption === 'unequal'">
            <span class="currency-symbol">$</span>
            <input 
              type="number" 
              [(ngModel)]="participant.amount" 
              (ngModelChange)="onParticipantAmountChange(participant)"
              step="0.01"
            >
          </div>
          
          <!-- Percentage split -->
          <div class="participant-percentage" *ngIf="selectedSplitOption === 'percentage'">
            <input 
              type="number" 
              [(ngModel)]="participant.percentage" 
              (ngModelChange)="updateAmounts()"
              min="0"
              max="100"
            >
            <span class="percentage-symbol">%</span>
          </div>
          
          <!-- Shares split -->
          <div class="participant-shares" *ngIf="selectedSplitOption === 'shares'">
            <input 
              type="number" 
              [(ngModel)]="participant.shares" 
              (ngModelChange)="updateAmounts()"
              min="1"
            >
            <span class="shares-label">shares</span>
          </div>
        </div>
      </div>
    </div>
    
    <div class="form-group">
      <label for="expense-date">Date</label>
      <input type="date" id="expense-date" [(ngModel)]="date">
    </div>
    
    <div class="form-actions">
      <button class="cancel-btn" (click)="onCancel()">Cancel</button>
      <button class="save-btn" (click)="onSubmit()">Save</button>
    </div>
  </div>