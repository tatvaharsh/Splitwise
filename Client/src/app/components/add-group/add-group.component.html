<div class="add-group-container">
  <mat-card class="group-card">
    <h2 class="title">{{ mode === 'edit' ? 'Update Group' : 'Create Group' }}</h2>

    <form [formGroup]="groupForm" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="fill" class="full-width">
        <mat-label>Group Name</mat-label>
        <input matInput formControlName="name" placeholder="Enter group name" maxlength="50">
        <mat-error *ngIf="groupForm.get('name')?.hasError('required')">
          Group name is required
        </mat-error>
        <mat-error *ngIf="groupForm.get('name')?.hasError('minlength')">
          Minimum 2 characters required
        </mat-error>
      </mat-form-field>

      <div class="upload-section">
        <label for="file-upload" class="upload-button">
          <mat-icon>upload</mat-icon> Upload Group Logo
        </label>
        <input id="file-upload" type="file" (change)="onFileSelected($event)" hidden accept="image/*">
      </div>

      <div *ngIf="imagePreview" class="logo-preview">
        <img [src]="imagePreview" alt="Group Logo" />
      </div>

      <div class="action-buttons">
        <button mat-stroked-button class="cancel-button" type="button" (click)="onCancel()">Cancel</button>
        <button mat-flat-button class="save-button" type="submit" [disabled]="groupForm.invalid">Save</button>
      </div>
    </form>
  </mat-card>
</div>